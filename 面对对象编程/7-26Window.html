<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box{
				width: 300px;
				height: 300px;
				background-image: url(img/tx4.jpg);
				background-size: 100% 100%;
				position: absolute;
				top: 0;
				left: 0;
			}
		</style>
	</head>
	<body>
		<div id="box">
			
		</div>
	</body>
	<!--<script type="text/javascript" src="js/jquery-3.2.1.min.js" ></script>-->
	<script type="text/javascript">
		function myWindow(id){
			this.win = document.getElementById(id);
			this.getX = 0;
			this.getY = 0;
			this.W = 0;
			this.H = 0;
			this.L = 0;
			this.T = 0
		}
		myWindow.prototype.init = function(){
			var _this = this;
			this.win.onmousedown = function(){
				_this.fnDown();
			}
		}
		myWindow.prototype.fnDown = function(ev){
			var newEv = ev || event; 
			var _this = this;
			this.W = this.win.offsetWidth;
			this.H = this.win.offsetHeight;
			this.T = this.win.offsetTop;
			this.L = this.win.offsetLeft;
			this.getX = newEv.clientX - this.L;
			this.getY = newEv.clientY - this.T;
			if(this.getX > 0 && this.getX < 10){
				document.onmousemove = function(){
					_this.fnMoveL();
				}
			}else if(this.getX > this.W-10 && this.getX < this.W){
				document.onmousemove = function(){
					_this.fnMoveR();
				}
			}else if(this.getY > 0 && this.getY < 10){
				document.onmousemove = function(){
					_this.fnMoveT();
				}
			}else if(this.getY > this.H - 10 && this.getY < this.H){
				document.onmousemove = function(){
					_this.fnMoveB();
				}
			}
			document.onmouseup = this.fnUp;
		}
		myWindow.prototype.fnMoveL = function(ev){
			var newEv = ev || event; 
			var nowW = this.W + this.getX - newEv.clientX + this.L;
			if(nowW < 200){
				nowW = 200;
			}
			this.win.style.width = nowW + 'px';
			console.log(newEv.clientX )
			var moveLift =  newEv.clientX - this.getX - this.L;
//			if(moveLift >= this.W-200 + this.L){
//				moveLift = this.W-200 + this.L;
//			}
			this.win.style.left =  moveLift + 'px';
		}
		
		myWindow.prototype.fnMoveR = function(ev){
			var newEv = ev || event; 
			var nowW = this.W + newEv.clientX - this.getX - this.L;
			if(nowW < 200){
				nowW = 200;
			}
			this.win.style.width = nowW + 'px';
		}
		myWindow.prototype.fnMoveT = function(ev){
			var newEv = ev || event; 
			var nowH = this.H + this.getY - newEv.clientY + this.T;
			if(nowH < 200){
				nowH = 200;
			}
			this.win.style.height = nowH + 'px';
//			
			var moveTop = newEv.clientY - this.getY;
			if(newEv.clientY>8){
				if(moveTop >= this.H-200 + this.T){
					moveTop = this.H-200 + this.T;
				}
				this.win.style.top =  moveTop + 'px';
			}else{
				this.win.style.top =  moveTop - this.T + 'px';
			}
			
		}
		myWindow.prototype.fnMoveB = function(ev){
			var newEv = ev || event; 
			var nowH = this.H + newEv.clientY - this.getY - this.T;
			if(nowH < 200){
				nowH = 200;
			}
			this.win.style.height = nowH + 'px';
		}
		myWindow.prototype.fnUp = function(){
			document.onmousemove = null;
		}
		var d = new myWindow('box');
		d.init();
	</script>
</html>
