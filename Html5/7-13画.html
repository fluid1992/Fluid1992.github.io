<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title></title>
<style type="text/css">
	#myCanvas{
		background: cyan;
	}
	
	#box{
		position: relative;
	}
	#move-box{
		width: 50px;
		height: 50px;
		background: yellow;
		opacity: 0.5;
		position: absolute;
		top: 0;
		left: 0;
	}
	#box,
	img{
		width: 400px;
	}
</style>
<body>
	<div id="box">
		<img id="img1" src="img/fffffff.jpg"/>
		<div id="move-box">
			
		</div>
	</div>
<canvas id="myCanvas" width="150" height="150" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.
</canvas>
<script>

	var c=document.getElementById("myCanvas");
	var ctx=c.getContext("2d");
	var img=document.getElementById("img1");
	var mBox = document.getElementById("move-box");
	var oBox = document.getElementById("box");
	var x = 100;
	var y = 100;
	var imgX = 512;
	var imgY = 343;
	
	img.onload=function(){
	 var timer = setInterval(function(){
			x--;
			y--;
			if(x<=0){
				x=0;
				y=0;
			}
			imgX++;
			imgY++;
			if(imgX>=1024){
				imgX=1024
				clearInterval(timer);
				alert('我画完了!')
			}
			if(imgY>=687){
				imgY=687;
			}
			ctx.clearRect(0,0,300,300);
			ctx.drawImage(img,x,y,imgX,imgY,0,0,150,150);
		},50)
	}
		
</script>

</body>
</html>

